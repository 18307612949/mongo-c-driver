<page xmlns="http://projectmallard.org/1.0/"
      type="topic"
      id="connecting-to-mongo">

  <info>
    <link type="guide" xref="index#getting-started" />
  </info>

  <title>Connecting to MongoDB</title>

  <p>
    The following guide will step you through the process of connecting to MongoDB.
    Before you start this guide, ensure you have installed the driver and have MongoDB started and running on <code>localhost</code>.
    You can test that MongoDB is up and running by connecting to it with the MongoDB shell.
  </p>

  <screen>$ mongo --host localhost 
MongoDB shell version: 2.4.10
connecting to: localhost:27017/test
> </screen>

  <section id="connecting-basics">
    <title>Creating a Client</title>

    <p>
      The following code example creates a new <code>mongoc_client_t</code> that we will use to communicate with MongoDB.
      The <link href="http://docs.mongodb.org/manual/reference/connection-string/">Connection String URI</link> component is quite comprehensive.
    </p>

    <listing>
      <title><file>example1.c</file></title>
      <desc>Creating a new mongoc_client_t.</desc>
      <code mime="text/x-csrc"><![CDATA[#include <bson.h>
#include <mongoc.h>

int
main (int   argc,
      char *argv[])
{
    mongoc_client_t *client;

    mongoc_init ();

    client = mongoc_client_new ("mongodb://localhost:27017/");
    mongoc_client_destroy (client);

    return 0;
}
]]></code>
    </listing>

    <note style="advanced">
      <p>You can require that SSL is used by providing <code>ssl=true</code> to the URI options.</p>
      <code>mongodb://localhost:27017/?ssl=true</code>
    </note>

  </section>

</page>
