Author: A. Jesse Jiryu Davis <jesse@mongodb.com>
Description: Omit private headers and pkg-config file
diff --git a/src/Makefile.am b/src/Makefile.am
index 22ec261..34daf91 100644
--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -1,7 +1,6 @@
 pkgconfigdir = $(libdir)/pkgconfig
 pkgconfig_DATA = \
-	$(top_builddir)/src/libmongoc-1.0.pc \
-	$(top_builddir)/src/libmongoc-priv.pc
+	$(top_builddir)/src/libmongoc-1.0.pc
 if ENABLE_SSL
 pkgconfig_DATA += $(top_builddir)/src/libmongoc-ssl-1.0.pc
 endif
diff --git a/src/mongoc/Makefile.am b/src/mongoc/Makefile.am
index a2fbd04..1b2380b 100644
--- a/src/mongoc/Makefile.am
+++ b/src/mongoc/Makefile.am
@@ -1,106 +1,47 @@
 headerdir = $(prefix)/include/libmongoc-@MONGOC_API_VERSION@
 header_DATA = \
 	$(INST_H_FILES) \
-	$(MONGOC_DEF_FILES) \
 	src/mongoc/mongoc-config.h
 
-MONGOC_DEF_FILES = \
-	src/mongoc/op-delete.def \
-	src/mongoc/op-get-more.def \
-	src/mongoc/op-header.def \
-	src/mongoc/op-insert.def \
-	src/mongoc/op-kill-cursors.def \
-	src/mongoc/op-msg.def \
-	src/mongoc/op-query.def \
-	src/mongoc/op-reply.def \
-	src/mongoc/op-update.def \
-	src/mongoc/mongoc-counters.defs
-
 INST_H_FILES = \
 	src/mongoc/mongoc.h \
-	src/mongoc/mongoc-array-private.h \
-	src/mongoc/mongoc-async-private.h \
-	src/mongoc/mongoc-async-cmd-private.h \
-	src/mongoc/mongoc-b64-private.h \
-	src/mongoc/mongoc-buffer-private.h \
-	src/mongoc/mongoc-bulk-operation-private.h \
 	src/mongoc/mongoc-bulk-operation.h \
 	src/mongoc/mongoc-client-pool.h \
-	src/mongoc/mongoc-client-pool-private.h \
-	src/mongoc/mongoc-client-private.h \
 	src/mongoc/mongoc-client.h \
-	src/mongoc/mongoc-cluster-private.h \
-	src/mongoc/mongoc-collection-private.h \
 	src/mongoc/mongoc-collection.h \
-	src/mongoc/mongoc-counters-private.h \
-	src/mongoc/mongoc-cursor-array-private.h \
-	src/mongoc/mongoc-cursor-cursorid-private.h \
-	src/mongoc/mongoc-cursor-transform-private.h \
-	src/mongoc/mongoc-cursor-private.h \
 	src/mongoc/mongoc-cursor.h \
-	src/mongoc/mongoc-database-private.h \
 	src/mongoc/mongoc-database.h \
-	src/mongoc/mongoc-errno-private.h \
 	src/mongoc/mongoc-error.h \
 	src/mongoc/mongoc-flags.h \
-	src/mongoc/mongoc-gridfs-file-list-private.h \
 	src/mongoc/mongoc-gridfs-file-list.h \
-	src/mongoc/mongoc-gridfs-file-page-private.h \
 	src/mongoc/mongoc-gridfs-file-page.h \
-	src/mongoc/mongoc-gridfs-file-private.h \
 	src/mongoc/mongoc-gridfs-file.h \
-	src/mongoc/mongoc-gridfs-private.h \
 	src/mongoc/mongoc-gridfs.h \
-	src/mongoc/mongoc-host-list-private.h \
 	src/mongoc/mongoc-host-list.h \
 	src/mongoc/mongoc-index.h \
 	src/mongoc/mongoc-init.h \
 	src/mongoc/mongoc-iovec.h \
-	src/mongoc/mongoc-list-private.h \
 	src/mongoc/mongoc-log.h \
-	src/mongoc/mongoc-log-private.h \
-	src/mongoc/mongoc-matcher-op-private.h \
-	src/mongoc/mongoc-matcher-private.h \
 	src/mongoc/mongoc-matcher.h \
 	src/mongoc/mongoc-opcode.h \
-	src/mongoc/mongoc-opcode-private.h \
-	src/mongoc/mongoc-queue-private.h \
-	src/mongoc/mongoc-read-prefs-private.h \
 	src/mongoc/mongoc-read-prefs.h \
-	src/mongoc/mongoc-rpc-private.h \
-	src/mongoc/mongoc-sasl-private.h \
-	src/mongoc/mongoc-scram-private.h \
 	src/mongoc/mongoc-server-description.h \
-	src/mongoc/mongoc-server-description-private.h \
-	src/mongoc/mongoc-set-private.h \
 	src/mongoc/mongoc-socket.h \
-	src/mongoc/mongoc-socket-private.h \
-	src/mongoc/mongoc-ssl-private.h \
 	src/mongoc/mongoc-stream-buffered.h \
 	src/mongoc/mongoc-stream-file.h \
 	src/mongoc/mongoc-stream-gridfs.h \
-	src/mongoc/mongoc-stream-private.h \
 	src/mongoc/mongoc-stream-socket.h \
 	src/mongoc/mongoc-stream.h \
-	src/mongoc/mongoc-thread-private.h \
-	src/mongoc/mongoc-topology-description-private.h \
-	src/mongoc/mongoc-topology-private.h \
-	src/mongoc/mongoc-topology-scanner-private.h \
 	src/mongoc/mongoc-trace.h \
 	src/mongoc/mongoc-uri.h \
-	src/mongoc/mongoc-uri-private.h \
-	src/mongoc/mongoc-util-private.h \
 	src/mongoc/mongoc-version.h \
 	src/mongoc/mongoc-version-functions.h \
-	src/mongoc/mongoc-write-command-private.h \
-	src/mongoc/mongoc-write-concern-private.h \
 	src/mongoc/mongoc-write-concern.h \
 	src/mongoc/utlist.h
 
 if ENABLE_SSL
 INST_H_FILES += \
 	src/mongoc/mongoc-rand.h \
-	src/mongoc/mongoc-rand-private.h \
 	src/mongoc/mongoc-stream-tls.h \
 	src/mongoc/mongoc-ssl.h
 endif
