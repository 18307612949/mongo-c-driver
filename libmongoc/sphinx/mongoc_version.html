<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Version Checks &#8212; MongoDB C Driver 1.5.0-dev</title>
    
    <link rel="stylesheet" href="_static/mongoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="mongoc_check_version()" href="mongoc_check_version.html" />
    <link rel="prev" title="Error Reporting" href="errors.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper" id="mongoc_version">
      <div class="body" role="main">
        
            <div class="related">
              <ul>
                <li class="nav-item nav-item-0"><a href="index.html">MongoDB C Driver 1.5.0-dev</a> &#187;</li>
                
                  <li class="nav-item nav-item-1"><a href="api.html">API Reference</a></li>
                
              </ul>
            </div>
          
        
  <div class="section" id="version-checks">
<h1>Version Checks<a class="headerlink" href="#version-checks" title="Permalink to this headline">¶</a></h1>
<p>Conditional compilation based on mongoc version</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The following preprocessor macros can be used to perform various checks based on the version of the library you are compiling against.
This may be useful if you only want to enable a feature on a certain version of the library.</p>
<pre class="literal-block">
#include &lt;mongoc.h&gt;

#define MONGOC_MAJOR_VERSION (1)
#define MONGOC_MINOR_VERSION (4)
#define MONGOC_MICRO_VERSION (0)
#define MONGOC_VERSION_S     &quot;1.4.0&quot;
#define MONGOC_VERSION_HEX   ((1 &lt;&lt; 24) | (0 &lt;&lt; 16) | (0 &lt;&lt; 8) | 0)
#define MONGOC_CHECK_VERSION(major, minor, micro)
</pre>
<p>Only compile a block on MongoDB C Driver 1.1.0 and newer.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#if MONGOC_CHECK_VERSION(1, 1, 0)</span>
<span class="k">static</span> <span class="kt">void</span>
<span class="nf">do_something</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>
<div class="section" id="run-time-version-checks">
<h2>Run-Time Version Checks<a class="headerlink" href="#run-time-version-checks" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mongoc_check_version.html">mongoc_check_version()</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongoc_get_major_version.html">mongoc_get_major_version()</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongoc_get_micro_version.html">mongoc_get_micro_version()</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongoc_get_minor_version.html">mongoc_get_minor_version()</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongoc_get_version.html">mongoc_get_version()</a></li>
</ul>
</div>
</div>
</div>


      </div>
      <div class="footer">
        <div class="footer-nav">
          <a class="footer-nav-button footer-nav-button-prev" title="Error Reporting" href="errors.html">&laquo; Previous: Error Reporting</a>
          <a class="footer-nav-button footer-nav-button-next" title="mongoc_check_version()" href="mongoc_check_version.html">Next: mongoc_check_version() &raquo;</a>
        </div>
      </div>
    </div>
  </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3><a href="index.html">MongoDB C Driver 1.5.0-dev</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing the MongoDB C Driver</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basic-troubleshooting.html">Basic Troubleshooting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="guides.html">Guides</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="application-performance-monitoring.html">Application Performance Monitoring (APM)</a></li>
</ul>

<ul>
  <li class="toctree-l1 ">
    <a href="full_index.html">Index</a>
  </li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="colophon">
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1, based on <a href="https://sphinx-readable-theme.readthedocs.io/en/latest/">Sphinx Readable Theme</a>.
  </div>

  </body>
</html>