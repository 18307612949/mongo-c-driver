<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MongoDBCDriver: MongoDB C Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>MongoDB C Driver </h1>  </div>
</div>
<div class="contents">
<h3 class="version">0.3 </h3><p><a href="http://www.mongodb.org/display/DOCS/C+Language+CenterThe">http://www.mongodb.org/display/DOCS/C+Language+CenterThe</a> MongoDB C Driver is the 10gen-supported driver for MongoDB.</p>
<p>Add discussion and more examples here.</p>
<p>Example code:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &quot;test.h&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="bson_8h.html" title="BSON Declarations.">bson.h</a>&quot;</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;string.h&gt;</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>

<span class="keywordtype">int</span> main(){
    <a class="code" href="structbson__buffer.html">bson_buffer</a> bb;
    <a class="code" href="structbson.html">bson</a> b, sub;
    <a class="code" href="structbson__iterator.html">bson_iterator</a> it;

    <span class="comment">/* Create a rich document like this one:</span>
<span class="comment"></span>
<span class="comment"> { _id: ObjectId(&quot;4d95ea712b752328eb2fc2cc&quot;),</span>
<span class="comment">   user_id: ObjectId(&quot;4d95ea712b752328eb2fc2cd&quot;),</span>
<span class="comment"></span>
<span class="comment">   items: [</span>
<span class="comment">     { sku: &quot;col-123&quot;,</span>
<span class="comment">       name: &quot;John Coltrane: Impressions&quot;,</span>
<span class="comment">       price: 1099,</span>
<span class="comment">     },</span>
<span class="comment"></span>
<span class="comment">     { sku: &quot;young-456&quot;,</span>
<span class="comment">       name: &quot;Larry Young: Unity&quot;,</span>
<span class="comment">       price: 1199</span>
<span class="comment">     }</span>
<span class="comment">   ],</span>
<span class="comment"></span>
<span class="comment">   address: {</span>
<span class="comment">     street: &quot;59 18th St.&quot;,</span>
<span class="comment">     zip: 10010</span>
<span class="comment">   },</span>
<span class="comment"></span>
<span class="comment">   total: 2298</span>
<span class="comment"> }</span>
<span class="comment">     */</span>
    bson_buffer_init( &amp;bb );
    bson_append_new_oid( &amp;bb, <span class="stringliteral">&quot;_id&quot;</span> );
    bson_append_new_oid( &amp;bb, <span class="stringliteral">&quot;user_id&quot;</span> );

    bson_append_start_array( &amp;bb, <span class="stringliteral">&quot;items&quot;</span> );
        bson_append_start_object( &amp;bb, <span class="stringliteral">&quot;0&quot;</span> );
            bson_append_string( &amp;bb, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;John Coltrane: Impressions&quot;</span> );
            bson_append_int( &amp;bb, <span class="stringliteral">&quot;price&quot;</span>, 1099 );
        bson_append_finish_object( &amp;bb );

        bson_append_start_object( &amp;bb, <span class="stringliteral">&quot;1&quot;</span> );
            bson_append_string( &amp;bb, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;Larry Young: Unity&quot;</span> );
            bson_append_int( &amp;bb, <span class="stringliteral">&quot;price&quot;</span>, 1199 );
        bson_append_finish_object( &amp;bb );
    bson_append_finish_object( &amp;bb );

    bson_append_start_object( &amp;bb, <span class="stringliteral">&quot;address&quot;</span> );
        bson_append_string( &amp;bb, <span class="stringliteral">&quot;street&quot;</span>, <span class="stringliteral">&quot;59 18th St.&quot;</span> );
        bson_append_int( &amp;bb, <span class="stringliteral">&quot;zip&quot;</span>, 10010 );
    bson_append_finish_object( &amp;bb );

    bson_append_int( &amp;bb, <span class="stringliteral">&quot;total&quot;</span>, 2298 );

    <span class="comment">/* Convert from a buffer to a raw BSON object that</span>
<span class="comment"> can be sent to the server:</span>
<span class="comment">     */</span>
    bson_from_buffer( &amp;b, &amp;bb );

    <span class="comment">/* Advance to the &#39;items&#39; array */</span>
    bson_find( &amp;it, &amp;b, <span class="stringliteral">&quot;items&quot;</span> );

    <span class="comment">/* Get the subobject representing items */</span>
    bson_iterator_subobject( &amp;it, &amp;sub );

    <span class="comment">/* Now iterate that object */</span>
    bson_print( &amp;sub );

   <span class="keywordflow">return</span> 0;
}
</pre></div> </div>
<hr class="footer"/><address class="footer"><small>Generated on Wed May 18 2011 11:22:49 for MongoDBCDriver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
